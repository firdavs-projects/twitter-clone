(()=>{"use strict";var t={767:(t,e,n)=>{n.d(e,{Z:()=>i});var o=n(645),r=n.n(o)()((function(t){return t[1]}));r.push([t.id,"body {\r\n    font-family: sans-serif;\r\n    padding: 0;\r\n    margin: 0;\r\n}\r\n.wrapper {\r\n    border: 1px solid rgba(46, 139, 86, 0.486);\r\n}\r\n",""]);const i=r},645:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=t(e);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,o){"string"==typeof t&&(t=[[null,t,""]]);var r={};if(o)for(var i=0;i<this.length;i++){var a=this[i][0];null!=a&&(r[a]=!0)}for(var s=0;s<t.length;s++){var c=[].concat(t[s]);o&&r[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),e.push(c))}},e}},379:(t,e,n)=>{var o,r=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}(),i=[];function a(t){for(var e=-1,n=0;n<i.length;n++)if(i[n].identifier===t){e=n;break}return e}function s(t,e){for(var n={},o=[],r=0;r<t.length;r++){var s=t[r],c=e.base?s[0]+e.base:s[0],u=n[c]||0,l="".concat(c," ").concat(u);n[c]=u+1;var d=a(l),h={css:s[1],media:s[2],sourceMap:s[3]};-1!==d?(i[d].references++,i[d].updater(h)):i.push({identifier:l,updater:v(h,e),references:1}),o.push(l)}return o}function c(t){var e=document.createElement("style"),o=t.attributes||{};if(void 0===o.nonce){var i=n.nc;i&&(o.nonce=i)}if(Object.keys(o).forEach((function(t){e.setAttribute(t,o[t])})),"function"==typeof t.insert)t.insert(e);else{var a=r(t.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(e)}return e}var u,l=(u=[],function(t,e){return u[t]=e,u.filter(Boolean).join("\n")});function d(t,e,n,o){var r=n?"":o.media?"@media ".concat(o.media," {").concat(o.css,"}"):o.css;if(t.styleSheet)t.styleSheet.cssText=l(e,r);else{var i=document.createTextNode(r),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(i,a[e]):t.appendChild(i)}}function h(t,e,n){var o=n.css,r=n.media,i=n.sourceMap;if(r?t.setAttribute("media",r):t.removeAttribute("media"),i&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleSheet)t.styleSheet.cssText=o;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(o))}}var f=null,p=0;function v(t,e){var n,o,r;if(e.singleton){var i=p++;n=f||(f=c(e)),o=d.bind(null,n,i,!1),r=d.bind(null,n,i,!0)}else n=c(e),o=h.bind(null,n,e),r=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return o(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;o(t=e)}else r()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=(void 0===o&&(o=Boolean(window&&document&&document.all&&!window.atob)),o));var n=s(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var o=0;o<n.length;o++){var r=a(n[o]);i[r].references--}for(var c=s(t,e),u=0;u<n.length;u++){var l=a(n[u]);0===i[l].references&&(i[l].updater(),i.splice(l,1))}n=c}}}}},e={};function n(o){var r=e[o];if(void 0!==r)return r.exports;var i=e[o]={id:o,exports:{}};return t[o](i,i.exports,n),i.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.nc=void 0,(()=>{var t=n(379),e=n.n(t),o=n(767);e()(o.Z,{insert:"head",singleton:!1}),o.Z.locals;const r=new function(){};function i(t,e,n){return"\n  <div>\n      <input id=".concat(t," type=").concat(e," value = '' maxlength=\"40\"/>\n      <label for=").concat(t,">").concat(n,"</label>\n  </div>\n  ")}const a=function(){function t(e,n,o,r){void 0===n&&(n="div"),void 0===o&&(o=""),void 0===r&&(r="");var i=t.setChild(e,n,o,r);this.node=i}return t.prototype.setAttribute=function(t,e){this.node.setAttribute(t,e)},t.prototype.append=function(t){this.node.append(t)},t.prototype.destroy=function(){this.node.remove()},t.setChild=function(t,e,n,o){void 0===e&&(e="div"),void 0===n&&(n=""),void 0===o&&(o="");var r=document.createElement(e);return r.className=n,r.textContent=o,t&&t.append(r),r},t}(),s=function(){function t(t,e){void 0===e&&(e="signup"),this.button=new a(t,"button","waves-effect waves-light btn-large","".concat(e))}return t.prototype.setCompleted=function(){this.button.node.innerHTML="Completed",this.button.node.classList.add("btn-completed")},t.prototype.setDisabled=function(){this.button.node.classList.add("btn-disabled"),this.button.node.setAttribute("disabled","disabled")},t.prototype.setForTablet=function(){this.button.node.innerHTML="Signup",this.button.node.classList.add("header-tablet")},t.prototype.addClass=function(t){this.button.node.classList.add(t)},t.prototype.addAttribute=function(t,e){this.button.node.setAttribute(t,e)},t.prototype.onclick=function(t){this.button.node.onclick=function(e){return t(e)}},t}(),c=new(function(){function t(){this.rootNode=document.createElement("main"),this.rootNode.className="auth"}return t.prototype.getTemplate=function(t){this.rootNode.textContent="",t&&this.rootNode.insertAdjacentHTML("beforeend",i("firstName","text","Имя")),t&&this.rootNode.insertAdjacentHTML("beforeend",i("lastName","text","Фамилия")),this.rootNode.insertAdjacentHTML("beforeend",i("username","text","Имя пользователя")),this.rootNode.insertAdjacentHTML("beforeend",i("password","password","Пароль"));var e=a.setChild(this.rootNode,"div");return new s(e,"login test").onclick((function(){N.navigate("/",!0)})),this.rootNode},t}()),u=new(function(){function t(){this.rootNode=document.createElement("header")}return t.prototype.getTemplate=function(){return this.rootNode.textContent="",this.rootNode.insertAdjacentHTML("afterbegin",'\n    <header>\n        <nav>\n            Header\n            <a href="#/">Main</a>\n            <a href="#/profile">Profile</a>\n            <a href="#/login">Login</a>\n            <a href="#/register">Register</a>\n        </nav>\n    </header>\n  '),this.rootNode},t}()),l=new(function(){function t(){this.rootNode=document.createElement("footer"),this.rootNode.className="footer"}return t.prototype.getTemplate=function(){return this.rootNode.textContent="",this.rootNode.insertAdjacentHTML("afterbegin",'\n    <footer>\n        <p class="team">\n            <a href="https://github.com/firdavs-projects">@firdavs-projects</a>\n            <a href="https://github.com/firdavs-projects">@firdavs-projects</a>\n            <a href="https://github.com/firdavs-projects">@firdavs-projects</a>\n        </p>\n        <p class="school">\n            <img src="https://rs.school/images/rs_school_js.svg" alt="rs-school"  width="100px"/>\n            <a href="https://rs.school/js/">RS School FE 2022</a>\n        </p>\n        <p class="copyright">\n            &copy; Copyright <span>2022</span> Mini Twitter Clone\n        </p>\n    </footer>\n'),this.rootNode},t}());var d=function(){function t(t){this.routes=[],t.routes&&(this.routes=t.routes),this.root="/",t.root&&(this.root=t.root),this.current=null,this.intervalId=null,this.listen()}return t.prototype.addPath=function(t,e,n){this.routes.push({path:t,callback:e,isAuth:n})},t.prototype.setRoot=function(t){this.root=t},t.prototype.addAllPath=function(t){this.routes=function(t,e,n){if(n||2===arguments.length)for(var o,r=0,i=e.length;r<i;r++)!o&&r in e||(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}([],t,!0)},t.prototype.removePath=function(t){var e=this.routes.find((function(e){return e.path===t}));e&&this.routes.splice(this.routes.indexOf(e),1)},t.prototype.getPath=function(t){return t.toString().replace(/^\//,"").replace(/\\/,"").replace(/\/$/,"")||this.root},t.prototype.getRoute=function(){var t,e=window.location.href.match(/#(.*)$/);return t=e&&e[1]?e[1]:this.root,this.getPath(t)},t.prototype.navigate=function(t){void 0===t&&(t=""),window.location.href="".concat(window.location.href.replace(/#(.*)$/,""),"#/").concat(this.getPath(t))},t.prototype.listen=function(){this.intervalId&&clearInterval(this.intervalId),this.intervalId=setInterval(this.checkRoute.bind(this),100)},t.prototype.checkRoute=function(){var t=this;this.current!==this.getRoute()&&(this.current=this.getRoute(),this.routes.some((function(e){if(t.current){var n=t.current.match(e.path);if(n){var o=n.shift();return t.navigate(o),e.callback.apply({},n),t}return t.navigate(t.root),!1}t.navigate(t.root)})))},t}();const h=new d({root:" "}),f=new(function(){function t(){this.rootNode=document.getElementById("app")}return t.prototype.render=function(){this.rootNode.textContent="",this.rootNode.append(u.getTemplate()),this.createMainLayout(),this.rootNode.append(l.getTemplate())},t.prototype.createMainLayout=function(){var t=new a(this.rootNode,"main","auth"),e=h.getRoute().includes("register");t.node.append(c.getTemplate(e))},t}());var p=function(){function t(){this.model=r,this.view=f}return t.prototype.createPage=function(){this.view.render()},t}();new p;const v=function(){function t(){this.rootNode=document.getElementById("app")}return t.prototype.render=function(){this.rootNode.textContent="",this.rootNode.append(u.getTemplate()),this.createMainLayout(),this.rootNode.append(l.getTemplate())},t.prototype.createMainLayout=function(){new a(this.rootNode,"main","main").node.insertAdjacentHTML("beforeend","Hello World! Main Page");var t=a.setChild(this.rootNode,"div");new s(t,"logout test").onclick((function(){N.navigate("/login",!1)}))},t}(),g=function(){function t(){this.view=new v}return t.prototype.createPage=function(){this.view.render()},t}(),y=function(){};const m=function(){function t(){this.rootNode=document.getElementById("app"),this.userName=""}return t.prototype.render=function(){return t=this,e=void 0,o=function(){return function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((r=(r=a.trys).length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(t){return this.rootNode.textContent="",this.createHeader(),this.createProfileLayout(),this.createFooter(),[2]}))},new((n=void 0)||(n=Promise))((function(r,i){function a(t){try{c(o.next(t))}catch(t){i(t)}}function s(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((o=o.apply(t,e||[])).next())}));var t,e,n,o},t.prototype.createHeader=function(){this.rootNode.append(u.getTemplate())},t.prototype.createProfileLayout=function(){new a(this.rootNode,"main","profile").node.insertAdjacentHTML("beforeend","Hello Profile Page!")},t.prototype.createFooter=function(){this.rootNode.append(l.getTemplate())},t}(),b=function(){function t(){this.model=new y,this.view=new m}return t.prototype.createPage=function(){this.view.render()},t}(),w=function(){function t(){this.mainPageController=new g,this.authPageController=new p,this.profilePageController=new b}return t.prototype.getRoutes=function(){var t=this;return[{path:/register/,callback:function(){return t.authPageController.createPage()},isAuth:!1},{path:/login/,callback:function(){return t.authPageController.createPage()},isAuth:!1},{path:/ /,callback:function(){return t.mainPageController.createPage()},isAuth:!0},{path:/profile/,callback:function(){return t.profilePageController.createPage()},isAuth:!0}]},t}(),N=new(function(){function t(t){void 0===t&&(t=!1),this.router=h,this.config=new w,this.isLogin=t}return t.prototype.navigate=function(t,e){this.checkAuth(e),t&&this.router.navigate(t)},t.prototype.checkAuth=function(t){this.isLogin=!1,t&&(this.isLogin=t),this.setRouter()},t.prototype.setRouter=function(){this.definePaths(),this.setRootPath()},t.prototype.definePaths=function(){var t=this,e=this.config.getRoutes(),n=[];e.forEach((function(e){e.isAuth!==t.isLogin&&null!==e.isAuth||n.push(e)})),this.router.addAllPath(n)},t.prototype.setRootPath=function(){var t=this.isLogin?" ":"login";this.router.setRoot(t)},t}())(!1);(function(){function t(){this.authManager=N}return Object.defineProperty(t,"Instance",{get:function(){return this._instance||(this._instance=new this)},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.authManager.navigate()},t})().Instance.start()})()})();